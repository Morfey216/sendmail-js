!function($){function randomInteger(t,e){var a=t-.5+Math.random()*(e-t+1);return a=Math.round(a)}var methods={init:function(options){var defaults=$.extend(!0,{url:"mail/mail.php",reset:!0,beforeInit:function(t){},afterInit:function(t){},beforeSend:function(t){},afterSend:function(t){},onSuccess:function(t,e){},onAjaxError:function(t,e){},onServerError:function(t,e){}},$.fn.sendMail.defaults);return this.each(function(){var $ths=$(this);if(1==$ths.data("_init"))return!1;$ths.data("defaults",defaults),$ths.data("options",options);var data=$ths.attr("data-sendmail");"object"!=typeof(data=eval("("+data+")"))&&(data={}),$ths.data("settings",$.extend(!0,{},defaults,options,data));var sets=$ths.data("settings");sets.beforeInit.call($ths,sets),$ths.addClass("sendmail-form"),sets._submitNameSpaceID=randomInteger(1e7,99999999),$ths.on("submit.sm-"+sets._btnNameSpaceID,function(){return methods.send.call($ths),!1}),$ths.data("_init",!0),sets.afterInit.call($ths,sets)}),this},destroy:function(){if(!$(this).data("_init"))return!1;var t=$(this),e=t.data("settings");return t.removeClass("sendmail-form"),t.off("submit.sm-"+e._btnNameSpaceID),t.removeData(),this},reinit:function(t){var e=$(this),a=(e.data("settings"),e.data("options"));return methods.destroy.call(e),t&&"object"==typeof t?methods.init.call(e,t):methods.init.call(e,a),this},send:function(){var t=$(this),e=t.data("settings");if(e.beforeSend.call(t,e),t.find('input[type="file"]').length)(a={data:new FormData(t.get(0)),ajaxProcData:!1,ajaxContType:!1}).data.append("errorReport",!0),window.FormData||(t.unbind("submit"),t.trigger("submit"));else var a={data:t.serialize()+"&errorReport=true",ajaxProcData:!0,ajaxContType:"application/x-www-form-urlencoded; charset=UTF-8"};return $.ajax({type:"POST",url:e.url,data:a.data,processData:a.ajaxProcData,contentType:a.ajaxContType,success:function(a){a.match(/sendmail-server-error/gim)?e.onServerError.call(t,e,a):(e.onSuccess.call(t,e,a),e.reset&&t.trigger("reset")),e.afterSend.call(t,e)},error:function(a){e.afterSend.call(t,e),e.onAjaxError.call(t,e,a)}}),this}};$.fn.sendMail=function(t){if(methods[t])return methods[t].apply(this,Array.prototype.slice.call(arguments,1));"object"!=typeof t&&t?$.error("Method "+t+" does not exist on jQuery.sendMail"):methods.init.apply(this,arguments)}}(jQuery);